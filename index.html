<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>○×テスト</title>
<style>
body { text-align:center; font-family:sans-serif; }
button { font-size:24px; margin:10px; padding:10px 30px; }
</style>
</head>

<body>

<h2 id="counter"></h2>
<button onclick="answer('○')">○</button>
<button onclick="answer('×')">×</button>

<script>
const total = 20;
let index = 0;
const answers = [];

function show(){
  document.getElementById("counter").textContent =
    `問題 ${index+1} / ${total}`;
}

function answer(a){
  answers.push(a);
  index++;

  if(index >= total){
    finish();
    return;
  }
  show();
}

function finish(){
  const result = answers.join(",");

  // Googleスプレッドシートへ送信
  fetch("https://script.google.com/macros/s/AKfycbwHCsoQaIbzWGPd5Ft8dAHVV4EWoJwPHtyB5i6rdQWZiqREAjQJsmIw4TgW3-M18GmU/exec", {
    method: "POST",
    body: new URLSearchParams({ data: result })
  });

  document.body.innerHTML =
    "<h2>回答ありがとうございました</h2>";
}

show();
</script>

</body>
</html>
